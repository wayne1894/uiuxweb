<!DOCTYPE html>
<html lang="zh-Hant-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<body>
<script src="https://unpkg.com/real-turtle"></script>
<canvas id="real-turtle"></canvas>
<script src="https://unpkg.com/real-turtle/build/helpers/simple.js"></script>

<script>
turtle.setSpeed(1); //設定速度
turtle.setStrokeColorRGB(255, 255, 255);//畫白色的線

var window_width = window.innerWidth;
var window_height = window.innerHeight;
var gap = 10;
var x_number = 20;
x_number = Math.floor(Math.random() * x_number) + 1;
var start_gap_width = 20;
var start_gap_height = 20;

var square_width =  (window_width - (x_number * gap)
                    - (start_gap_width * 2)) / x_number;

square_width = parseInt(square_width);

var y_number = (window_height - start_gap_height) 
/ (square_width + gap);
y_number = parseInt(y_number)

const r = Math.floor(Math.random() * 256); // 隨機生成 0 到 255 之間的整數
const g = Math.floor(Math.random() * 256);
const b = Math.floor(Math.random() * 256);

var totalNumbers = x_number * y_number;
var randomIndex = Math.floor(Math.random() * totalNumbers);
var randomInteger = randomIndex + 1;  // 如果你想要隨機整數從 1 開始計數

var box_index = 0;
for(var i=0;i<y_number;i++){
   var _y = start_gap_height + (square_width + gap) * i;
   turtle.setPosition(start_gap_width,_y);
   for(var j=0;j<x_number;j++){
     var _x = start_gap_width + (square_width + gap) * j;
     turtle.setPosition(_x,_y);
     box_index = box_index + 1;
     print_square(box_index)
   }
}


function print_square(box_index){
    var square_angle = 90;

    turtle.setFillStyle(getRandomRGBA(box_index));
    turtle.beginPath();

    turtle.right(square_angle)
    turtle.fd(square_width)
    turtle.right(square_angle)
    turtle.fd(square_width)
    turtle.right(square_angle)
    turtle.fd(square_width)
    turtle.right(square_angle)
    turtle.fd(square_width)

    turtle.fill();
}

function getRandomColor() {
    var letters = '0123456789ABCDEF';
    var color = '#';
    for (var i = 0; i < 6; i++) {
        color += letters[Math.floor(Math.random() * 16)];
    }
    return color;
}

function getRandomRGBA(box_index) {
  var a = 1;
  if(box_index == randomInteger){
    a = 0.9
  }

  return `rgba(${r},${g},${b},${a})`;
}

</script>
</body>
</html>